# UserManager (Demo Application)

Это демо-приложение WPF для управления пользователями, разработанное в рамках тестового задания.  
Приложение демонстрирует следующие возможности:
- Реализацию CRUD операций для управления пользователями.
- Поддержку нескольких поставщиков данных:
  - **InMemory** – тестовые данные, хранящиеся в памяти.
  - **XML** – хранение данных в XML‑файле.
  - **MsSql (EF Core)** – работа с базой данных MS SQL через Entity Framework Core.
- Холодное переключение источника данных через конфигурационный файл (**appsettings.json**).
- Гибкую архитектуру, позволяющую легко добавлять новые источники данных и менять тип пользовательского интерфейса.

---

## Как развернуть проект

1. **Настройка источника данных**  
   - Откройте файл **appsettings.json** в корне WPF‑проекта (например, **UserManagementApp.UI**). В релиз версии appsettings будет лежать в корневой папке приложения.
   - Измените параметр `"DataProvider"` на один из следующих вариантов:
     - `"InMemory"` – использование тестовых данных, хранящихся в памяти.
     - `"Xml"` – хранение данных в XML‑файле.
     - `"EfCoreMsSql"` – использование MS SQL через EF Core.
   - При выборе `"Xml"` убедитесь, что параметр `"XmlFilePath"` указывает на корректный путь (например, `"users.xml"`).
   - При выборе `"EfCoreMsSql"` настройте строку подключения в разделе `"ConnectionStrings"`. Пример:
     ```json
     {
       "DataProvider": "EfCoreMsSql",
       "XmlFilePath": "users.xml",
       "ConnectionStrings": {
         "MsSql": "Data Source=YOUR_SERVER;Initial Catalog=YOUR_DATABASE;Integrated Security=True;TrustServerCertificate=True;"
       }
     }
     ```
   - **Примечание:** При использовании EF Core убедитесь, что база данных настроена и содержит таблицу `Users` с необходимой структурой.

2. **Сборка и запуск проекта**  
   - Откройте решение в Visual Studio 2022.  
   - Убедитесь, что проекты **UserManagementApp.Data**, **UserManagementApp.Business** и **UserManagementApp.UI** добавлены в решение и правильно ссылаются друг на друга.  
   - Соберите решение и запустите проект **UserManagementApp.UI**.

---

## Как работать с приложением

1. **Главное окно**  
   - При запуске приложения загружается список пользователей, полученных из выбранного источника данных.  
   - В верхней части окна расположены кнопки для выполнения операций:
     - **Load** – загрузка списка пользователей.
     - **Add** – добавление нового пользователя (для примера создаются пользователи с тестовыми данными; в реальном приложении следует предусмотреть форму ввода).
     - **Update** – обновление данных выбранного пользователя (например, изменение имени).
     - **Delete** – удаление выбранного пользователя.
   - Для управления пользователями используется паттерн MVVM, что обеспечивает чистое разделение представления и бизнес-логики.

2. **Валидация данных**  
   - При добавлении или обновлении пользователя проверяется:
     - Логин не должен быть пустым.
     - Логин должен быть уникальным.  
   В случае нарушения условий операция завершается с соответствующим сообщением об ошибке.

3. **Холодное переключение поставщика данных**  
   - Выбор источника данных определяется файлом **appsettings.json**.  
   - Для смены источника данных достаточно изменить параметр `"DataProvider"` (а также соответствующие настройки, например, путь к XML или строку подключения для MS SQL) и перезапустить приложение.

---
![image](https://github.com/user-attachments/assets/35092aa4-ec0c-433f-8c31-b69e571cea1c)
